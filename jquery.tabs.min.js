/**
* jQuery Tabs
* Copyright (c) 2011 Kevin Doyle
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
**/

(function(a,f,b,g){var c=function(d,b){this.el=d;this.$el=a(d);this.options=b;this.metadata=this.$el.data("tabs-options");this.temphash=this.index=this.current=this.url=this.obj=""};c.prototype={defaults:{section:".section",tab:"a",initial:0,current:"current",onComplete:function(){},hideOnClick:!1,changeURL:!1,URLPrefix:"/tab/"},init:function(){this.config=a.extend({},this.defaults,this.options,this.metadata);this.temphash=b.location.hash.split(this.config.URLPrefix)[1];this.$el.on("click",this.config.tab, a.proxy(this,"_switchTab"));null!==this.config.initial?(this.config.changeURL&&this.temphash!==g?this.index=a("#"+this.temphash).index(this.config.section):"string"===typeof this.config.initial?this.index=a("#"+this.config.initial).index(this.config.section):"number"===typeof this.config.initial&&(this.index=this.config.initial),this.index>=a(this.config.section).length&&(this.index=0),this.$el.find(this.config.tab).eq(this.index).trigger("click")):a(this.config.section).hide()},_switchTab:function(d){this.obj= a(d.currentTarget);this.url=this.obj.attr("href");this.current=this.$el.find(this.config.tab+"."+this.config.current);this.obj[0]!==this.current[0]?(this.current.removeClass(this.config.current),this.obj.addClass(this.config.current),a(this.config.section).hide(),a(this.url).show(),this.config.changeURL&&(b.location.hash=this.config.URLPrefix+this.url.slice(1))):this.config.hideOnClick&&(this.obj.removeClass(this.config.current),a(this.url).hide(),this.config.changeURL&&this._removeHash());this.config.onComplete.call(this); return!1},_removeHash:function(){var a,c,e=f.location;"pushState"in history?history.pushState("",b.title,e.pathname+e.search):(a=b.body.scrollTop,c=b.body.scrollLeft,e.hash="",b.body.scrollTop=a,b.body.scrollLeft=c)}};c.defaults=c.prototype.defaults;a.fn.tabs=function(a){return this.each(function(){(new c(this,a)).init()})}})(jQuery,window,document);