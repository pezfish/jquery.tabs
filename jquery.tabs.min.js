/**
* jQuery Tabs
* Copyright (c) 2011 Kevin Doyle
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
**/

(function(a,j,b,k){var d=function(e,b){this.el=e;this.$el=a(e);this.options=b;this.metadata=this.$el.data("tabs-options")},f,g,h,c,i;d.prototype={defaults:{section:".section",tab:"a",initial:0,current:"current",onComplete:function(){},hideOnClick:!1,changeURL:!1,URLPrefix:"/tab/"},init:function(){this.config=a.extend({},this.defaults,this.options,this.metadata);i=b.location.hash.split(this.config.URLPrefix)[1];this.$el.on("click",this.config.tab,a.proxy(this,"_switchTab"));null!==this.config.initial? (this.config.changeURL&&i!==k?c=a("#"+i).index(this.config.section):"string"===typeof this.config.initial?c=a("#"+this.config.initial).index(this.config.section):"number"===typeof this.config.initial&&(c=this.config.initial),c>=a(this.config.section).length&&(c=0),this.$el.find(this.config.tab).eq(c).trigger("click")):a(this.config.section).hide()},_switchTab:function(e){f=a(e.currentTarget);g=f.attr("href");h=this.$el.find("."+this.config.current);h.removeClass(this.config.current);f[0]!==h[0]?(f.addClass(this.config.current), a(this.config.section).hide(),a(g).show(),this.config.changeURL&&(b.location.hash=_this.config.URLPrefix+g.slice(1))):this.config.hideOnClick&&(a(g).hide(),this.config.changeURL&&this._removeHash());this.config.onComplete.call(this);return!1},_removeHash:function(){var a,c,d=j.location;"pushState"in history?history.pushState("",b.title,d.pathname+d.search):(a=b.body.scrollTop,c=b.body.scrollLeft,d.hash="",b.body.scrollTop=a,b.body.scrollLeft=c)}};d.defaults=d.prototype.defaults;a.fn.tabs=function(a){return this.each(function(){(new d(this, a)).init()})}})(jQuery,window,document);